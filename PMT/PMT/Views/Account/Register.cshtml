@using PMT.Services;
@using PMT.Views.Account;
@model AccountVM;

@{
  ViewData["Title"] = "Register";
  var result = TempData[Str.Register] ?? "Register Account";
}

<script type="text/javascript" src="~/js/Account/register.js"></script>

<img class="background-img" src="~/images/PMTAccountBackground.png">

<section role="main" id="registerContent">
  <div class="title-wrap">
    <h1>Register</h1>
  </div>
  @if ((string)result == "Account Created")
  {
    <div class="confirmation-wrap">
      <span>Check your email to confirm your account.</span>
      <div class="confirmation"><div></div><div></div></div>
    </div>
  }
  else if ((string)result == "DuplicateUserName")
  {
    <div class="confirmation-wrap">
      <span>An account has already been registered with this email.</span>
      <div class="btn-wrap">
        <a asp-controller="@Str.Account" asp-action="@Str.Login" class="btn">Back to Login</a>
        <a asp-controller="@Str.Account" asp-action="@Str.Register" class="btn">New Registration</a>
      </div>
    </div>
  }
  else
  {
    <form method="post" asp-controller="@Str.Account" asp-action="@Str.Register" class="register-form" autocomplete="on">

      <div id="registration-page_0" class="registration-page">
        <div class="input-wrap">
          <input asp-for="Email" id="registerEmail" type="text" placeholder="Email" autocomplete="email">
          <span id="registerEmailErr" class="err hide"></span>
        </div>
        <div class="input-wrap">
          <input asp-for="FirstName" id="registerFirstName" type="text" placeholder="First Name" autocomplete="name">
          <span id="registerFirstNameErr" class="err hide"></span>
        </div>
        <div class="input-wrap">
          <input asp-for="LastName" id="registerLastName" type="text" placeholder="Last Name" autocomplete="family-name">
          <span id="registerLastNameErr" class="err hide"></span>
        </div>
        <div class="input-wrap">
          <input asp-for="CellPhone" id="registerPhoneNumber" type="text" placeholder="cell phone">
          <span id="registerPhoneNumberErr" class="err hide"></span>
        </div>
        <div class="input-wrap-date">
          DOB: <input asp-for="Dob" id="registerDOB" type="date">
          <span id="registerDOBErr" class="err hide"></span>
        </div>
      </div>

      <div id="registration-page_1" class="registration-page hide">
        <div class="input-wrap">
          <input asp-for="StreetAddress" id="registerStreetAddress" type="text" placeholder="street address">
          <span id="registerStreetAddressErr" class="err hide"></span>
        </div>
        <div class="input-wrap">
          <input asp-for="City" id="registerCity" type="text" placeholder="city">
          <span id="registerCityErr" class="err hide"></span>
        </div>
        <div class="input-wrap">
          <input asp-for="State" id="registerState" type="text" placeholder="state">
          <span id="registerStateErr" class="err hide"></span>
        </div>
        <div class="input-wrap">
          <input asp-for="PostalCode" id="registerPostalCode" type="text" placeholder="zip code">
          <span id="registerPostalCodeErr" class="err hide"></span>
        </div>
      </div>

      <div id="registration-page_2" class="registration-page hide">
        <div class="input-wrap">
          <input asp-for="Password" id="registerPass" type="password" placeholder="Password" autocomplete="new-password">
          <span id="registerPassErr" class="err hide"></span>
          <img tabindex="0" class="passHideBtn hide" src="/icons/passInvisible_512x512.png">
          <img tabindex="0" class="passShowBtn" src="/icons/passVisible_512x512.png">
        </div>
        <div class="input-wrap">
          <input asp-for="ConfirmPassword" id="registerConfPass" type="password" placeholder="ConfirmPassword" autocomplete="new-password">
          <span id="registerConfPassErr" class="err hide"></span>
          <img tabindex="0" class="passHideBtn hide" src="/icons/passInvisible_512x512.png">
          <img tabindex="0" class="passShowBtn" src="/icons/passVisible_512x512.png">
        </div>

        <div class="requirement-wrap">
          <div class="requirements">
            <div id="charMinConfirmation" class="invalid"><div></div><div></div></div>
            <label>at least 8 characters</label>
          </div>
          <div class="requirements">
            <div id="charLowerConfirmation" class="invalid"><div></div><div></div></div>
            <label>at least 1 lowercase letter</label>
          </div>
          <div class="requirements">
            <div id="charUpperConfirmation" class="invalid"><div></div><div></div></div>
            <label>at least 1 uppercase letter</label>
          </div>
          <div class="requirements">
            <div id="charNumberConfirmation" class="invalid"><div></div><div></div></div>
            <label>at least 1 number</label>
          </div>
          <div class="requirements">
            <div id="charSpecialConfirmation" class="invalid"><div></div><div></div></div>
            <label>at least 1 symbol (!, @@, #, $, %, &, *)</label>
          </div>
        </div>

        <div class="btn-wrap">
          <button type="submit" class="btn">Create Account</button>
        </div>
      </div>

    </form>

    <div class="pagination-btn-wrap">
      <img tabindex="0" id="registrationPageLeftBtn" src="/Icons/paginationLeft_512x512.png">
      <img tabindex="0" id="registrationPageRightBtn" src="/Icons/paginationRight_512x512.png">
    </div>
    <a asp-controller="@Str.Account" asp-action="@Str.Login" class="btn cancelBtn" id="cancelBtn">Cancel</a>
  }
</section>
